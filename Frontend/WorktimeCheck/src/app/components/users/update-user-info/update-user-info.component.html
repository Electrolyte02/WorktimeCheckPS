<div class="form-container">
      <form [formGroup]="passwordForm">
        <div class="row">
          <h2 class="form--title">Cambiar Contraseña</h2>
        </div>

        <div class="row">
          <div class="input-field">
            <label for="currentPassword">Contraseña Actual</label>
            <input 
              type="password" 
              id="currentPassword" 
              formControlName="currentPassword"
              [class.error]="passwordForm.get('currentPassword')?.invalid && passwordForm.get('currentPassword')?.touched"
            />
            <div class="error-message" *ngIf="passwordForm.get('currentPassword')?.invalid && passwordForm.get('currentPassword')?.touched">
              <span *ngIf="passwordForm.get('currentPassword')?.errors?.['required']">La contraseña actual es requerida</span>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="input-field">
            <label for="newPassword">Nueva Contraseña</label>
            <input 
              type="password" 
              id="newPassword" 
              formControlName="newPassword"
              [class.error]="passwordForm.get('newPassword')?.invalid && passwordForm.get('newPassword')?.touched"
            />
            <div class="error-message" *ngIf="passwordForm.get('newPassword')?.invalid && passwordForm.get('newPassword')?.touched">
              <span *ngIf="passwordForm.get('newPassword')?.errors?.['required']">La nueva contraseña es requerida</span>
              <span *ngIf="passwordForm.get('newPassword')?.errors?.['minlength']">La contraseña debe tener al menos 6 caracteres</span>
            </div>
          </div>

          <div class="input-field">
            <label for="confirmPassword">Confirmar Nueva Contraseña</label>
            <input 
              type="password" 
              id="confirmPassword" 
              formControlName="confirmPassword"
              [class.error]="passwordForm.get('confirmPassword')?.invalid && passwordForm.get('confirmPassword')?.touched"
            />
            <div class="error-message" *ngIf="passwordForm.get('confirmPassword')?.invalid && passwordForm.get('confirmPassword')?.touched">
              <span *ngIf="passwordForm.get('confirmPassword')?.errors?.['required']">Confirme la nueva contraseña</span>
              <span *ngIf="passwordForm.get('confirmPassword')?.errors?.['passwordMismatch']">Las contraseñas no coinciden</span>
            </div>
          </div>
        </div>

        <div class="form--actions">
          <button type="button" (click)="returnBack()" [disabled]="isLoading">
            Cancelar
          </button>
          <button 
            type="button" 
            (click)="updatePassword()" 
            [disabled]="passwordForm.invalid || isLoading"
            class="primary-button"
          >
            {{ isLoading ? 'Actualizando...' : 'Actualizar Contraseña' }}
          </button>
        </div>
      </form>
    </div>